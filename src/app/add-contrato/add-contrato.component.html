<div class="container mt-3 mb-3">
  <div class="row">
    <div class="col-md-6 offset-md-3">
      <div class="card">
        <div class="card-header">
          <h2>Adicionar Contrato</h2>
        </div>
        <div class="card-body">
          <form #form="ngForm" (submit)="adicionarContrato()">

            <div class="mb-3">
              <label for="codigo" class="form-label">Codigo do Contrato</label>
              <input type="text" class="form-control" id="codigo" name="codigo" [(ngModel)]="this.contrato.codigo" #codigo="ngModel" pattern="^[a-zA-Z0-9 ]+$" required
              [ngClass]="{'is-valid': codigo.valid && codigo.touched, 'is-invalid': !codigo.valid && codigo.touched}">
              <div [hidden]="codigo.valid || codigo.untouched">Informe o codigo do contrato sem caracteres especiais</div>
            </div>

            <div class="mb-3">
              <label for="cliente" class="form-label">Nome do cliente</label>
              <input type="text" class="form-control" id="cliente" name="cliente" [(ngModel)]="this.contrato.cliente" #cliente="ngModel" pattern="^[A-Za-záàâãéèêíïóôõöúçñÁÀÂÃÉÈÍÏÓÔÕÖÚÇÑa-zA-Z0-9 ]+$" required
                [ngClass]="{'is-valid': cliente.valid && cliente.touched, 'is-invalid': !cliente.valid && cliente.touched}">
              <div [ngClass]="{'text-danger': !cliente.valid && cliente.touched}">Informe o cliente sem caracteres especiais</div>
            </div>

            <div class="mb-3">
              <label for="tipoContrato" class="form-label">Tipo de contrato</label>
              <input type="text" class="form-control" id="tipoContrato" name="tipoContrato" [(ngModel)]="this.contrato.tipoContrato" #tipoContrato="ngModel" pattern="^[A-Za-záàâãéèêíïóôõöúçñÁÀÂÃÉÈÍÏÓÔÕÖÚÇÑa-zA-Z0-9 ]+$" required
                [ngClass]="{'is-valid': tipoContrato.valid && tipoContrato.touched, 'is-invalid': !tipoContrato.valid && tipoContrato.touched}">
              <div [ngClass]="{'text-danger': !tipoContrato.valid && tipoContrato.touched}">Informe o tipo de contrato sem caracteres especiais</div>
            </div>

            <div class="mb-3">
              <label for="status" class="form-label">Status do Contrato</label>
              <select class="form-control" id="status" name="status" [(ngModel)]="this.contrato.status" #status="ngModel" required
                [ngClass]="{'is-valid': status.valid && status.touched, 'is-invalid': !status.valid && status.touched}">

                <option *ngFor="let statusOption of statusOptions" [value]="statusOption">{{statusOption}}</option>

              </select>
              <div [ngClass]="{'text-danger': !status.valid && status.touched}">Por favor, selecione o status do contrato</div>
            </div>

            <div class="mb-3">
              <label for="dataCadastro" class="form-label">Data de Cadastro</label>
              <input type="date" class="form-control" id="dataCadastro" name="dataCadastro" [(ngModel)]="this.contrato.dataCadastro" #dataCadastro="ngModel" required
                [ngClass]="{'is-valid': dataCadastro.valid && dataCadastro.touched, 'is-invalid': !dataCadastro.valid && dataCadastro.touched}">
              <div [ngClass]="{'text-danger': !dataCadastro.valid && dataCadastro.touched}">A data de cadastro é obrigatório</div>
            </div>

            <div class="mb-3">
              <label for="dataInicio" class="form-label">Data de Início</label>
              <input type="date" class="form-control" id="dataInicio" name="dataInicio" [(ngModel)]="this.contrato.dataInicio" #dataInicio="ngModel" required
                [ngClass]="{'is-valid': dataInicio.valid && dataInicio.touched, 'is-invalid': !dataInicio.valid && dataInicio.touched}">
              <div [ngClass]="{'text-danger': !dataInicio.valid && dataInicio.touched}">A data de início do contrato é obrigatório</div>
            </div>

            <div class="mb-3">
              <label for="dataFim" class="form-label">Data de Fim</label>
              <input type="date" class="form-control" id="dataFim" name="dataFim" [(ngModel)]="this.contrato.dataFim" #dataFim="ngModel" required
                [ngClass]="{'is-valid': dataFim.valid && dataFim.touched, 'is-invalid': !dataFim.valid && dataFim.touched}">
              <div [ngClass]="{'text-danger': !dataFim.valid && dataFim.touched}">A data de encerramento do contrato é obrigatório</div>
            </div>

            <div class="mb-3">
              <label for="descricao" class="form-label">Descrição</label>
              <textarea class="form-control" id="descricao" name="descricao" rows="8" [(ngModel)]="this.contrato.descricao" #descricao="ngModel" required
                [ngClass]="{'is-valid': descricao.valid && descricao.touched, 'is-invalid': !descricao.valid && descricao.touched}"></textarea>
              <div [ngClass]="{'text-danger': !descricao.valid && descricao.touched}">Preencha o campo descrição</div>
            </div>

            <div class="mb-3">
              <label for="valor" class="form-label">Valor do contrato</label>
              <input type="text" class="form-control" id="valor" name="valor" [(ngModel)]="this.contrato.valor" #valor="ngModel"
                     pattern="^\d{1,3}(\.\d{3})*(,\d{2})?$" required
                     [ngClass]="{'is-valid': valor.valid && valor.touched, 'is-invalid': !valor.valid && valor.touched}"
                     placeholder="R$">
              <div [ngClass]="{'text-danger': !valor.valid && valor.touched}">Insira o valor do contrato</div>
            </div>

            <button type="submit" class="btn btn-primary" [disabled]="!form.valid">Salvar</button>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
